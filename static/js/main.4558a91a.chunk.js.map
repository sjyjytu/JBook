{"version":3,"sources":["img/signin4.jpg","components/Header.js","agent.js","utils/usefulFunction.js","components/Main/SearchBar.js","components/Main/ChoosePage.js","components/Main/HomePage.js","components/Book/BookCard.js","components/Main/Catalog.js","components/Book/Pagination.js","components/Book/BooksPage.js","components/Book/Comments.js","components/Book/BookDetail.js","components/Shopping/ShoppingCart.js","theme.js","components/SignUp.js","components/Login.js","components/Book/AddNewBook.js","components/Book/UpdateBook.js","components/Manage/ManageUser.js","components/Shopping/Chart.js","components/Shopping/ShowStatistics.js","components/Shopping/ShowOrder.js","Routers.js","reducers.js","configureStore.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","anchorEl","open","handleClose","setState","handleClick","event","currentTarget","handleClickLogin","handleCloseLogin","_this$props","classes","Login","react_default","a","createElement","className","root","AppBar_default","position","Toolbar_default","Typography_default","variant","color","grow","username","Button_default","button","href","Home_default","buttonIcon","Comment_default","_id","isManager","AccountCircle_default","ShoppingCart_default","aria-owns","undefined","aria-haspopup","onClick","Menu_default","id","Boolean","onClose","MenuItem_default","fullWidth","React","Component","connect","withStyles","theme","flexGrow","spacing","unit","marginLeft","marginRight","menuButton","hidden","display","axios","require","defaults","withCredentials","RootUrl","resBody","res","data","requests","url","get","then","body","params","post","delete","put","Book","showBooks","start","num","parseInt","addToCart","bookname","isbn","removeFromCart","showCart","getBookByisbn","getBookByName","Manage","addABook","book","deleteABook","updateABook","banAUser","showUsers","Order","showOrder","generateAnOrder","booksArr","mode","books","showStatistics","startTime","endTime","User","login","password","signup","email","Comment","showComment","addComment","userId","indexArr","comment_content","index","content","errorHandler","err","alert","response","msg","getTime","commentTime","replace","substring","indexOf","SearchBar","key","handleRadioChange","bind","assertThisInitialized","by","setKey","location","pathname","searchBtnClick","test","curPage","perPageNum","_this2","searchBooks","catch","window","e","switchBy","_this3","toolbar","Grid_default","container","alignItems","item","xs","title","noWrap","Fragment","index_es","checked","onChange","value","name","aria-label","checkedIcon","search","searchIcon","searchOnClick","Search_default","InputBase_default","placeholder","inputRoot","input","inputInput","target","clearBtn","clearAndReset","withRouter","Page","keyWord","Search","dispatch","type","result","total","count","_clearAndReset","asyncToGenerator","regenerator_default","mark","_callee2","wrap","_context2","prev","next","stop","apply","arguments","defineProperty","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","width","breakpoints","up","height","justifyContent","borderRadius","shape","backgroundColor","fade","palette","common","white","&:hover","float","down","primary","elight","overflow","radio","ChoosePage","update","disabled","Divider_default","padding","textAlign","text","secondary","margin","fontSize","HomePage","components_Header","Main_SearchBar","Main_ChoosePage","main","BookCard","deleteBook","Card_default","card","CardActionArea_default","Link","to","CardMedia_default","media","image","pictureUrl","CardContent_default","gutterBottom","component","author","CardActions_default","size","price","deleteButton","icons_index_es","maxWidth","Catalog","List_default","subheader","ListSubheader_default","ListItem_default","ListItemIcon_default","Send_default","ListItemText_default","inset","Drafts_default","MoveToInbox_default","ExpandLess_default","ExpandMore_default","Collapse_default","in","timeout","unmountOnExit","disablePadding","nested","StarBorder_default","Pagination","allPage","Math","ceil","concat","style","label","lastPage","ChevronLeft_default","nextPage","labelPosition","ChevronRight_default","BooksPage","bookPageOnChange","setTotal","storePageBooks","nextProps","nextContext","page","forceUpdate","_this4","superRoot","Main_Catalog","map","bookCard","Book_BookCard","Book_Pagination","BookDetail","minWidth","paper","marginBottom","Comments","handleClickOpen","slice","input_content","handleSubmit","history","push","handleContentChange","comments","replies","parentName","reply","length","subreply","Avatar_default","avatar","alt","children","showTree","comment","summary","fabiao","Dialog_default","aria-labelledby","DialogTitle_default","DialogContent_default","TextField_default","autoFocus","rows","multiline","DialogActions_default","marginTop","dark","handleChange","targetisbn","match","numValue","left","src","middle","stockNum","summarySpan","min","max","inputNum","ref","addBtn","buyBtn","buyNow","right","BottomNavigation_default","showLabels","BottomNavigationAction_default","icon","Restore_default","Favorite_default","LocationOn_default","Book_Comments","error","whiteSpace","border","lineHeight","wordWrap","wordBreak","fontWeight","ShoppingCart","removeButtonClick","newCart","cart","filter","link","Delete_default","rightIcon","divider","date","createMuiTheme","pink","light","lightBlue","typography","fontFamily","SignUp","confirmPass","handleInputChange","field","newState","assign","redirectTo","onRedirect","core_styles","Paper_default","onSubmit","preventDefault","checkAccount","FormControl_default","required","InputLabel_default","htmlFor","Input_default","autoComplete","Redirect","flexDirection","bgImg","submit","NumberFormatCustom","inputRef","other","objectWithoutProperties","number_format_default","getInputRef","onValueChange","values","thousandSeparator","prefix","NumberFormatCustom2","AddNewBook","uploadImgUrl","onImageDrop","handleImageUpload","files","file","request","end","secure_url","supermain","addNewBook","parseFloat","head","pan","InputProps","inputComponent","cover","accept","imgButton","click","img","submitButton","outline","borderWidth","formControl","UpdateBook","_booksArr$filter","slicedToArray","uploadedFile","console","updateBook","ManageUser","banButtonClick","newUsers","users","user","isBanned","Chart","initEchart","echarts","init","document","getElementById","chartId","setOption","tooltip","trigger","legend","yname","toolbox","show","feature","dataView","readOnly","magicType","restore","saveAsImage","xAxis","xname","xdata","yAxis","series","ydata","markPoint","markLine","prevProps","prevState","snapshot","ShowStatistics","bookData","totalConsume","userData","handleTextFieldChange","checkBtnClick","bookX","bookY","i","userX","userY","noValidate","textField","InputLabelProps","shrink","defaultValue","Shopping_Chart","flexWrap","ShowOrder","orders","order","orderId","toString","createTime","totalPrice","orderFilter","JSON","parse","BasicRoute","HashRouter","Switch","Route","exact","path","combineReducers","action","newState2","splice","newState3","PPN","store","createStore","Reducers","ReactDOM","render","es","Routers"],"mappings":"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","file":"static/js/main.4558a91a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/signin4.d1971858.jpg\";","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Home from '@material-ui/icons/Home';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport Comment from '@material-ui/icons/Comment';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ShoppingCart from '@material-ui/icons/ShoppingCart';\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: theme.spacing.unit * 2,\r\n        marginLeft: -theme.spacing.unit,\r\n        marginRight: -theme.spacing.unit,\r\n    },\r\n    grow: {\r\n        flexGrow: theme.spacing.unit * 2,\r\n    },\r\n    button: {\r\n        marginRight: theme.spacing.unit * 5,\r\n    },\r\n    menuButton:{\r\n\r\n    },\r\n    hidden : {\r\n        display: 'none',\r\n    },\r\n    buttonIcon: {\r\n        marginRight: theme.spacing.unit * 0.5,\r\n    },\r\n});\r\n\r\nclass Header extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {anchorEl: null, open: false};\r\n        this.handleClose = () => {\r\n            this.setState({anchorEl: null});\r\n        };\r\n        this.handleClick = event => {\r\n            this.setState({anchorEl: event.currentTarget});\r\n        };\r\n        this.handleClickLogin = () => {\r\n            this.setState({ open: true });\r\n        };\r\n\r\n        this.handleCloseLogin = () => {\r\n            this.setState({ anchorEl: null, open: false });\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const { classes,Login } = this.props;\r\n        const { anchorEl } = this.state;\r\n        return (\r\n            <div className={classes.root}>\r\n\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n                        <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\r\n                            {Login.username !== '' ? Login.username : ''}\r\n                        </Typography>\r\n                        <Button color=\"inherit\" className={classes.button} href=\"#\">\r\n                            <Home className={classes.buttonIcon}/>\r\n                            \r\n                        </Button>\r\n                        <Button color=\"inherit\" className={classes.button} href=\"http://www.ketianya.xyz/ketianya/#/\">\r\n                            <Comment className={classes.buttonIcon}/>\r\n                            \r\n                        </Button>\r\n                        {Login._id !== \"\" ?\r\n                            <Button color=\"inherit\" className={classes.button} href=\"#/statistics\">\r\n                                <Home className={classes.buttonIcon}/>\r\n                                \r\n                            </Button>\r\n                            :null\r\n                        }\r\n                        {Login._id !== \"\" ?\r\n                            (\r\n                                Login.isManager ?\r\n                                    <Button color=\"inherit\" className={classes.button} href=\"#/manage-users\">\r\n                                        <AccountCircle className={classes.buttonIcon}/>\r\n                                        \r\n                                    </Button>\r\n                                    :\r\n                                    <Button color=\"inherit\" className={classes.button} href=\"#/cart\">\r\n                                        <ShoppingCart className={classes.buttonIcon}/>\r\n                                        \r\n                                    </Button>\r\n                            ) : null\r\n                        }\r\n                        <Button\r\n                            aria-owns={anchorEl ? 'simple-menu' : undefined}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={this.handleClick}\r\n                            color=\"inherit\"\r\n                        >\r\n                            <AccountCircle className={classes.buttonIcon}/>\r\n                            /\r\n                        </Button>\r\n                        <Menu\r\n                            id=\"simple-menu\"\r\n                            anchorEl={anchorEl}\r\n                            open={Boolean(anchorEl)}\r\n                            onClose={this.handleClose}\r\n                        >\r\n                            <MenuItem onClick={this.handleClose}>\r\n                                <Button color=\"inherit\" fullWidth href=\"#/login\">\r\n                                    \r\n                                </Button>\r\n                            </MenuItem>\r\n                            <MenuItem onClick={this.handleClose}>\r\n                                <Button color=\"inherit\" fullWidth href=\"#/signup\">\r\n                                    \r\n                                </Button>\r\n                            </MenuItem>\r\n                        </Menu>\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {Login: state.Login};\r\n}\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(Header));\r\n//export default withStyles(styles)(Header);","var axios = require(\"axios\");\r\naxios.defaults.withCredentials = true;\r\n//const superagent = axios;\r\n\r\n// const RootUrl = 'http://localhost:8080';\r\nconst RootUrl = 'http://47.103.0.246:8080';\r\n\r\nfunction resBody(res) {\r\n    return res.data;\r\n}\r\n\r\nconst requests = {\r\n    get: (url)=>axios.get(RootUrl+url,{withCredentials:true}).then(resBody),\r\n    getWith:(url,body)=>axios.get(RootUrl+url,{params: body},{withCredentials:true}).then(resBody),\r\n    post:(url,body)=>axios.post(RootUrl+url,body,{withCredentials:true}).then(resBody),\r\n    delete:(url,body)=>axios.delete(RootUrl+url,body,{withCredentials:true}).then(resBody),\r\n    put:(url,body)=>axios.put(RootUrl+url,body,{withCredentials:true}).then(resBody)\r\n};\r\n\r\n//show books, add to cart, manage books and remove a book from cart\r\nexport const Book = {\r\n    showBooks: (start,num)=>requests.getWith('/api/book/show',{\"num\":parseInt(num),\"start\":parseInt(start)}),\r\n    addToCart: (_id, bookname, num, isbn) => requests.post(\"/api/cart/add\",{\"_id\":parseInt(_id),\"bookname\":bookname, \"num\": num, \"isbn\": isbn}),\r\n    removeFromCart: (_id, bookname, isbn) => requests.delete(\"/api/cart/remove\",{\r\n        \"_id\": parseInt(_id),\r\n        \"bookname\": bookname,\r\n        \"isbn\": isbn\r\n    }),\r\n    showCart: (_id) => requests.getWith(\"/api/cart/show\",{\"_id\": _id}),\r\n    getBookByisbn: (isbn,start,num) => requests.getWith('/api/book/showBy',{\"isbn\": parseInt(isbn),\"num\":num,\"start\":start}),\r\n    getBookByName: (bookname,start,num) => requests.getWith(\"/api/book/showBy\",{\"bookname\": bookname,\"num\":num,\"start\":start, \"isbn\": -1}),\r\n};\r\n\r\n//the action of manager add a book, delete a book, update a book, ban a user\r\nexport const Manage = {\r\n    addABook: (/*bookname, stockNum, summary, pictureUrl, author, price*/book) => requests.post(\"/api/book/manage/add\",\r\n        /*{\r\n            \"bookname\": bookname, \"stockNum\": stockNum, \"summary\": summary, \"pictureUrl\": pictureUrl, \"author\": author,\r\n            \"price\": price\r\n        }*/book),\r\n    deleteABook: (_id, bookname, isbn) => requests.delete(\"/api/book/manage/delete\",{\"bookname\": bookname, \"_id\": _id, \"isbn\": isbn}),\r\n    updateABook: (/*bookname, stockNum, summary, pictureUrl, author, price, isbn*/book) => requests.put(\"/api/book/manage/update\",\r\n        /*{\r\n            \"bookname\": bookname, \"stockNum\": stockNum, \"summary\": summary, \"pictureUrl\": pictureUrl, \"author\": author,\r\n            \"price\": price, \"isbn\": isbn\r\n        }*/book),\r\n    banAUser: _id => requests.put(\"/api/user/ban\",{\"_id\": _id}),\r\n    showUsers: () => requests.get(\"/api/user/show\")\r\n};\r\n\r\nexport const Order = {\r\n    showOrder: _id => {return requests.getWith(\"/api/order/show\",{\"_id\": _id})},\r\n    generateAnOrder: (_id, booksArr, mode) => requests.post(\"/api/order/generate\", {\"_id\": _id, \"books\": booksArr, \"mode\": mode}),\r\n    showStatistics: (_id, startTime,endTime) => requests.getWith(\"/api/order/show/statistics/buy\", {\"_id\":_id,\"startTime\":startTime,\"endTime\":endTime})\r\n};\r\n\r\n//\r\nexport const User = {\r\n    login: (username, password) => requests.post('/login',{\"username\":username, \"password\": password}),\r\n    signup: (username, password, email) => requests.post('/api/user/signup',{\"username\":username, \"password\": password,\r\n        \"email\": email})\r\n};\r\n\r\nexport const Comment = {\r\n    showComment: (isbn) => requests.getWith(\"/api/comment/show\",{\"isbn\":isbn}),\r\n    addComment: (isbn, userId, indexArr, username, comment_content) => requests.post(\"/api/comment/add\",\r\n        {\r\n            \"isbn\":parseInt(isbn),\r\n            \"userId\":parseInt(userId),\r\n            \"index\":indexArr,\r\n            \"username\":username,\r\n            \"content\":comment_content\r\n        })\r\n};","const errorHandler = err=> alert(err.response.data.msg);\r\nexport {errorHandler}\r\n\r\nconst getTime = (commentTime) => {\r\n    return commentTime.replace('T',' ').substring(0,commentTime.indexOf('.'))\r\n    // return commentTime\r\n};\r\nexport {getTime}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport {connect} from \"react-redux\";\r\nimport {Book} from \"../../agent\";\r\nimport {Radio} from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport {errorHandler} from '../../utils/usefulFunction'\r\n\r\nconst styles = theme => ({\r\n    inputInput: {\r\n        paddingTop: theme.spacing.unit,\r\n        paddingRight: theme.spacing.unit,\r\n        paddingBottom: theme.spacing.unit,\r\n        paddingLeft: theme.spacing.unit * 10,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n\r\n        [theme.breakpoints.up('md')]: {\r\n        width: 200,\r\n    },\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n        width: '100%',\r\n        display:'inline-block'\r\n\r\n    },\r\n    searchIcon: {\r\n        marginLeft:theme.spacing.unit,\r\n        //width: theme.spacing.unit * 2,\r\n        height: '100%',\r\n        position: 'absolute',\r\n        //pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'right',\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n\r\n        backgroundColor: fade(theme.palette.common.white, 0.35),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.55),\r\n        },\r\n        marginRight: theme.spacing.unit * 2,\r\n        float: 'right',\r\n        width: '400px',\r\n        [theme.breakpoints.down('md')]: {\r\n            width: 'auto',\r\n        },\r\n    },\r\n    toolbar: {\r\n        marginLeft: -theme.spacing.unit,\r\n        marginRight: -theme.spacing.unit,\r\n        height: '100px',\r\n        paddingTop: theme.spacing.unit * 3,\r\n        backgroundColor: theme.palette.primary.elight,\r\n    },\r\n    title: {\r\n        overflow: 'visible',\r\n        marginLeft: theme.spacing.unit*3,\r\n    },\r\n    radio:{\r\n        display: 'inline-block',\r\n        width: '10px',\r\n    },\r\n    clearBtn:{\r\n        marginLeft:-8*theme.spacing.unit,\r\n        //width: theme.spacing.unit * 2,\r\n        height: '100%',\r\n        position: 'absolute',\r\n    },\r\n    hidden:{\r\n        display:\"none\"\r\n    }\r\n});\r\n\r\nclass SearchBar extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {key:''};\r\n        this.handleRadioChange = this.handleRadioChange.bind(this);\r\n    }\r\n\r\n    async searchOnClick() {\r\n        const key = this.state.key;\r\n        const by = this.props.by;\r\n        this.props.setKey(key);\r\n        //alert(this.props.location.pathname);\r\n        if (key === ''||key===undefined) {\r\n            alert('~');\r\n        } else {\r\n            //\r\n            if (this.props.location.pathname === \"/order\") {\r\n\r\n            } else {\r\n                await this.props.searchBtnClick();\r\n                if (by === 'isbn') {\r\n                    var regPos = /^\\d+(\\.\\d+)?$/;\r\n                    if (!regPos.test(key)) {\r\n                        alert(\"isbn\");\r\n                    } else {\r\n                        Book.getBookByisbn(key,this.props.curPage,this.props.perPageNum)\r\n                            .then(res => this.props.searchBooks(res))\r\n                            .catch(errorHandler);\r\n                    }\r\n                } else {\r\n                    Book.getBookByName(key,this.props.curPage,this.props.perPageNum)\r\n                        .then(res => this.props.searchBooks(res))\r\n                        .catch(err => {alert(err.response.data.msg);window.open('https://www.baidu.com/s?wd=' + key, '_blank')});\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleRadioChange(e) {\r\n        this.props.switchBy();\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        return (\r\n            <div className={classes.toolbar}>\r\n                <Grid container spacing={24} alignItems=\"center\">\r\n                    <Grid item xs={6}>\r\n                        <Typography className={classes.title} variant=\"h2\" color=\"secondary\" noWrap>\r\n                            j-bu ok-y\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <React.Fragment>\r\n                            <Typography variant=\"h6\" color=\"inherit\"\r\n                                        className={this.props.location.pathname === \"/order\"?classes.hidden:null}>\r\n                                :\r\n                            </Typography>\r\n                            <Radio\r\n                                checked={this.props.by === 'isbn'}\r\n                                onChange={this.handleRadioChange}\r\n                                value=\"isbn\"\r\n                                name=\"radio-button\"\r\n                                aria-label=\"isbn\"\r\n                                checkedIcon={\"isbn\"}\r\n                                className={this.props.location.pathname === \"/order\"?classes.hidden:null}\r\n                            />\r\n                            <Radio\r\n                                checked={this.props.by === 'bookname'}\r\n                                onChange={this.handleRadioChange}\r\n                                value=\"bookname\"\r\n                                name=\"radio-button\"\r\n                                aria-label=\"bookname\"\r\n                                checkedIcon={\"\"}\r\n                                className={this.props.location.pathname === \"/order\"?classes.hidden:null}\r\n                            />\r\n                        </React.Fragment>\r\n                        <div className={classes.search}>\r\n                            <Button className={classes.searchIcon}\r\n                                        onClick={() => this.searchOnClick()}>\r\n                                <SearchIcon/>\r\n                                Go\r\n                            </Button>\r\n                            <InputBase\r\n                                placeholder={\"...\"}\r\n                                classes={{\r\n                                    root: classes.inputRoot,\r\n                                    input: classes.inputInput,\r\n                                }}\r\n                                value={this.state.key}\r\n                                onChange={e => this.setState({key:e.target.value})}/>\r\n                            <Button className={classes.clearBtn}\r\n                                    onClick={()=>{this.props.clearAndReset();this.setState({key:''})}}\r\n                            >\r\n                                x\r\n                            </Button>\r\n                        </div>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        curPage: state.Page.curPage,\r\n        perPageNum: state.Page.perPageNum,\r\n        keyWord: state.Search.keyWord,\r\n        by: state.Search.by,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        searchBooks: res => {\r\n            dispatch({type:\"SHOW_BOOK\",result:res});\r\n            dispatch({type:\"SET_TOTAL\",total:res.count});\r\n        },\r\n        clearAndReset: async () => {\r\n            await dispatch({type:\"RESET_KEY\"});\r\n            dispatch({type:\"RESET_PAGE\"});\r\n            dispatch({type:\"UPDATE\"});\r\n        },\r\n        switchBy: () => dispatch({type:\"SWITCH_BY\"}),\r\n        setKey: (key) => dispatch({type:\"SET_KEY\", keyWord:key}),\r\n        searchBtnClick: () => {dispatch({type:\"RESET_PAGE\"});}\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(SearchBar)));","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport {connect} from \"react-redux\";\r\n\r\nconst styles = theme => (\r\n    {\r\n        button:{\r\n            padding: theme.spacing.unit * 2,\r\n            textAlign: 'center',\r\n            color: theme.palette.text.secondary,\r\n            margin: theme.spacing.unit,\r\n            fontSize: '18px',\r\n        },\r\n        root:{\r\n            flexGrow: 1,\r\n        },\r\n    }\r\n);\r\n\r\nclass ChoosePage extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        const {classes, isManager, _id} = this.props;\r\n        return (\r\n            <div className={classes.root}>\r\n                <Grid container spacing={24} alignItems=\"center\">\r\n                    {isManager?\r\n                        <React.Fragment>\r\n                            <Grid item xs={4}>\r\n                                <Button className={classes.button} fullWidth={true} href='#/all-books'></Button>\r\n                            </Grid>\r\n                            <Grid item xs={4}>\r\n                                <Button className={classes.button} fullWidth={true} href='#/manage-users'></Button>\r\n                            </Grid>\r\n                            <Grid item xs={4}>\r\n                                <Button className={classes.button} fullWidth={true} href=\"#/order\"></Button>\r\n                            </Grid>\r\n                        </React.Fragment>\r\n                    :\r\n                        <React.Fragment>\r\n                            <Grid item xs={4}>\r\n                                <Button className={classes.button} fullWidth={true} onClick={()=>this.props.update()}></Button>\r\n                            </Grid>\r\n                            <Grid item xs={4}>\r\n                                <Button className={classes.button} fullWidth={true}></Button>\r\n                            </Grid>\r\n                            <Grid item xs={4}>\r\n                                <Button className={classes.button} fullWidth={true} href=\"#/order\" disabled={_id===''}></Button>\r\n                            </Grid>\r\n                        </React.Fragment>}\r\n                </Grid>\r\n                <Divider/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isManager: state.Login.isManager,\r\n        _id: state.Login._id,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        update: ()=>dispatch({type:\"UPDATE\"})\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withStyles(styles)(ChoosePage));","import React from 'react';\r\nimport Header from '../Header';\r\nimport SearchBar from './SearchBar';\r\nimport ChoosePage from './ChoosePage';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n//import {connect } from \"react-redux\";\r\n\r\nconst styles = theme => ({\r\n    main:{\r\n        backgroundColor:theme.palette.secondary.main,\r\n\r\n    }\r\n\r\n});\r\n\r\n\r\n\r\nclass HomePage extends React.Component{\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Header/>\r\n                <SearchBar/>\r\n                <ChoosePage/>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(HomePage);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from \"react-redux\";\r\nimport {IconButton} from \"@material-ui/core\";\r\nimport {Delete} from \"@material-ui/icons\";\r\n\r\nconst styles = {\r\n    card: {\r\n        maxWidth: 170,\r\n    },\r\n    media: {\r\n        height: 250,\r\n    },\r\n    author:{\r\n        color:'gray'\r\n    },\r\n    deleteButton:{\r\n        //position:'absolute',\r\n        //float:'right',\r\n        padding: '6px',\r\n        marginLeft: '10px'\r\n    }\r\n};\r\n\r\nclass BookCard extends React.Component{\r\n    render() {\r\n        const { classes,book, isManager, _id, deleteBook} = this.props;\r\n        return (\r\n            <Card className={classes.card}>\r\n                <CardActionArea>\r\n                    <Link to={'book/' + book.isbn}>\r\n                        <CardMedia\r\n                            className={classes.media}\r\n                            image={book.pictureUrl}\r\n                            title=\"Contemplative Reptile\"\r\n                        />\r\n                    </Link>\r\n                    <CardContent>\r\n                        <Typography gutterBottom variant=\"h6\" component=\"h4\">\r\n                            {book.bookname}\r\n                        </Typography>\r\n                        <Typography component=\"p\" className={classes.author}>\r\n                            {book.author}\r\n                        </Typography>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n                <CardActions>\r\n                    <Button size=\"small\" color=\"primary\">\r\n                        {book.price}\r\n                    </Button>\r\n                    {!isManager?\r\n                        <Link to={'book/' + book.isbn}>\r\n                            \r\n                        </Link>:\r\n                        <Link to={'update/' + book.isbn}>\r\n                            \r\n                        </Link>\r\n                    }\r\n                    {\r\n                        isManager?\r\n                            <IconButton className={classes.deleteButton} disabled\r\n                            onClick={()=>deleteBook(_id, book.bookname, book.isbn)}>\r\n                                <Delete/>\r\n                            </IconButton>\r\n                            :null\r\n                    }\r\n                </CardActions>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isManager: state.Login.isManager,\r\n        _id: state.Login._id\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(BookCard));\r\n\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport DraftsIcon from '@material-ui/icons/Drafts';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport StarBorder from '@material-ui/icons/StarBorder';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '100%',\r\n        //maxWidth: 200,\r\n        height: '500px',\r\n        marginLeft: theme.spacing.unit * 3,\r\n        backgroundColor: theme.palette.secondary.elight,\r\n        float:'left',\r\n    },\r\n    nested: {\r\n        paddingLeft: theme.spacing.unit * 4,\r\n    },\r\n});\r\n\r\nclass Catalog extends React.Component {\r\n    state = {\r\n        open: true,\r\n    };\r\n\r\n    handleClick = () => {\r\n        this.setState(state => ({ open: !state.open }));\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <List\r\n                component=\"nav\"\r\n                subheader={<ListSubheader component=\"div\"></ListSubheader>}\r\n                className={classes.root}\r\n            >\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <SendIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText inset primary=\"\" />\r\n                </ListItem>\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <DraftsIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText inset primary=\"\" />\r\n                </ListItem>\r\n                <ListItem button onClick={this.handleClick}>\r\n                    <ListItemIcon>\r\n                        <InboxIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText inset primary=\"\" />\r\n                    {this.state.open ? <ExpandLess /> : <ExpandMore />}\r\n                </ListItem>\r\n                <Collapse in={this.state.open} timeout=\"auto\" unmountOnExit>\r\n                    <List component=\"div\" disablePadding>\r\n                        <ListItem button className={classes.nested}>\r\n                            <ListItemIcon>\r\n                                <StarBorder />\r\n                            </ListItemIcon>\r\n                            <ListItemText inset primary=\"\" />\r\n                        </ListItem>\r\n                        <ListItem button className={classes.nested}>\r\n                            <ListItemIcon>\r\n                                <StarBorder />\r\n                            </ListItemIcon>\r\n                            <ListItemText inset primary=\"\" />\r\n                        </ListItem>\r\n                        <ListItem button className={classes.nested}>\r\n                            <ListItemIcon>\r\n                                <StarBorder />\r\n                            </ListItemIcon>\r\n                            <ListItemText inset primary=\"\" />\r\n                        </ListItem>\r\n                    </List>\r\n                </Collapse>\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <DraftsIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText inset primary=\"\" />\r\n                </ListItem>\r\n                <ListItem button>\r\n                    <ListItemIcon>\r\n                        <DraftsIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText inset primary=\"\" />\r\n                </ListItem>\r\n            </List>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withStyles(styles)(Catalog);","import React from \"react\";\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport {Button,Toolbar} from \"@material-ui/core\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass Pagination extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const {total,perPageNum,isManager,curPage} = this.props;\r\n        const allPage = Math.ceil(total / perPageNum) || 1;\r\n        return (\r\n            //allPage > 1 &&\r\n            <Toolbar>\r\n                <div>\r\n                    {\r\n                        `${(curPage - 1) * perPageNum + 1}-${curPage * perPageNum<total?curPage * perPageNum:total} of ${allPage} Pages`\r\n                    }\r\n                </div>\r\n                <div style={{marginLeft: '200px'}}>\r\n                    {\r\n                        <Button primary key=\"prev\" label=\"\" disabled={curPage <= 1}\r\n                                onClick={() => this.props.lastPage()}>\r\n                            <ChevronLeft/>\r\n                            \r\n                        </Button>\r\n                    }\r\n                    {\r\n                        `${curPage}`\r\n                    }\r\n                    {\r\n                        <Button primary key=\"next\" label=\"\" disabled={curPage === allPage}\r\n                                onClick={() => this.props.nextPage()} labelPosition=\"before\">\r\n                            \r\n                            <ChevronRight/>\r\n                        </Button>\r\n                    }\r\n                </div>\r\n                {isManager?\r\n                    <div style={{marginLeft:'400px'}}>\r\n                        <Button size=\"large\" variant=\"outlined\" href=\"#/add-new-book\">\r\n                            \r\n                        </Button>\r\n                    </div>\r\n                :null}\r\n            </Toolbar>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isManager: state.Login.isManager,\r\n        total: state.Page.total,\r\n        curPage: state.Page.curPage,\r\n        perPageNum: state.Page.perPageNum,\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        nextPage: ()=>dispatch({type: \"NEXT_PAGE\"}),\r\n        lastPage: ()=>dispatch({type: \"LAST_PAGE\"}),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Pagination);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Header from '../Header';\r\nimport SearchBar from '../Main/SearchBar';\r\nimport ChoosePage from '../Main/ChoosePage';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport BookCard from './BookCard';\r\nimport Catalog from '../Main/Catalog';\r\nimport Pagination from './Pagination';\r\nimport {connect} from \"react-redux\";\r\nimport {Book, Manage} from \"../../agent\";\r\nimport {errorHandler} from '../../utils/usefulFunction'\r\n\r\nconst styles = theme => ({\r\n    superRoot:{\r\n      minWidth:'900px'\r\n    },\r\n    root: {\r\n        position: 'relative',\r\n        paddingTop: theme.spacing.unit,\r\n        paddingLeft: theme.spacing.unit * 5,\r\n        backgroundColor: theme.palette.common.paper,\r\n    },\r\n    bookCard:{\r\n        marginLeft: theme.spacing.unit * 4,\r\n        position: 'relative',\r\n        display: 'inline-block',\r\n        width:'200px',\r\n        height: '250px',\r\n        marginBottom: theme.spacing.unit * 15,\r\n    },\r\n\r\n});\r\n\r\nclass BooksPage extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.bookPageOnChange = this.bookPageOnChange.bind(this);\r\n        this.deleteBook = this.deleteBook.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        Book.showBooks(this.props.curPage,this.props.perPageNum).then(res=>{this.props.setTotal(res.count);\r\n        return this.props.storePageBooks(res)}).catch(errorHandler);\r\n    }\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        if (this.props.curPage!==nextProps.curPage || this.props.update!==nextProps.update)\r\n        {\r\n            this.bookPageOnChange(nextProps.curPage);\r\n        }\r\n    }\r\n\r\n    bookPageOnChange(page){\r\n        if (this.props.keyWord===\"\" || this.props.keyWord===undefined)\r\n        {\r\n            Book.showBooks(page,this.props.perPageNum).then(res=>{this.props.setTotal(res.count);return this.props.storePageBooks(res)}).catch(errorHandler);\r\n        }\r\n        else\r\n        {\r\n            if (this.props.by === 'isbn') {\r\n                Book.getBookByisbn(this.props.keyWord,page,this.props.perPageNum).then(res=>{this.props.setTotal(res.count);return this.props.storePageBooks(res)}).catch(errorHandler);\r\n            } else {\r\n                Book.getBookByName(this.props.keyWord,page,this.props.perPageNum).then(res=>{this.props.setTotal(res.count);return this.props.storePageBooks(res)}).catch(errorHandler);\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteBook(_id, bookname, isbn) {\r\n        Manage.deleteABook(_id, bookname, isbn).then(this, this.props.deleteBook(isbn)).catch(errorHandler);\r\n        this.forceUpdate();\r\n    }\r\n        render() {\r\n        const {classes,books} = this.props;\r\n            return (\r\n                <div className={classes.superRoot}>\r\n                    <Header/>\r\n                    <SearchBar/>\r\n                    <ChoosePage/>\r\n                    <Grid container spacing={0}>\r\n                        <Grid item xs={2}>\r\n                            <Catalog/>\r\n                        </Grid>\r\n                        <Grid item xs={9} wrap=\"wrap\">\r\n                            {\r\n                                books!==undefined?\r\n                                    <div className={classes.root}>\r\n                                        {\r\n                                            books.map((book) => (\r\n                                                <div className={classes.bookCard}>\r\n                                                    <BookCard book={book} deleteBook={this.deleteBook}/>\r\n                                                </div>\r\n                                            ))\r\n                                        }\r\n                                    </div>:\r\n                                    <p className={classes.root}></p>\r\n                            }\r\n\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Pagination/>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        books: state.BookDetail.books,\r\n        update: state.BookDetail.update,\r\n        curPage: state.Page.curPage,\r\n        perPageNum: state.Page.perPageNum,\r\n        keyWord: state.Search.keyWord,\r\n        by: state.Search.by,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        storePageBooks: res => dispatch({type:\"SHOW_BOOK\",result:res}),\r\n        deleteBook: isbn=>dispatch({type:\"DELETE_BOOK\",isbn:isbn}),\r\n        setTotal: total=>dispatch({type:\"SET_TOTAL\",total:total})\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withStyles(styles)(BooksPage));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport {connect} from \"react-redux\";\r\nimport {Comment} from \"../../agent\";\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {errorHandler, getTime} from \"../../utils/usefulFunction\";\r\n\r\nconst styles = theme => ({\r\n    superRoot:{\r\n        minWidth: '650px',\r\n    },\r\n    root:{\r\n        marginTop:theme.spacing.unit * 5,\r\n        paddingLeft: '20%',\r\n        paddingRight: '10%',\r\n    },\r\n    avatar:{\r\n        marginRight: theme.spacing.unit * 2,\r\n        marginLeft: -theme.spacing.unit,\r\n    },\r\n    content:{\r\n        color:theme.palette.primary.dark,\r\n        fontSize: theme.spacing.unit * 3,\r\n        marginLeft: theme.spacing.unit * 10,\r\n    },\r\n    summary:{\r\n        fontSize: theme.spacing.unit,\r\n    },\r\n    subreply:{\r\n        marginLeft: theme.spacing.unit*10,\r\n    },\r\n    fabiao:{\r\n        marginTop: theme.spacing.unit * 5\r\n    }\r\n});\r\n\r\nclass Comments extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {comments: [],open:false,input_content:\"\",indexArr:[]};\r\n    }\r\n\r\n    componentDidMount() {\r\n        Comment.showComment(this.props.isbn).then(res=> this.setState({comments:res.comments})).catch(errorHandler);\r\n    }\r\n\r\n    handleClickOpen = index => () => {\r\n        this.setState({ open: true , indexArr:index.slice()});\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false , input_content:\"\", indexArr:[]});\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        Comment.addComment(this.props.isbn,this.props._id,this.state.indexArr,this.props.username,this.state.input_content);\r\n        this.handleClose();\r\n        this.props.history.push('/');\r\n    };\r\n\r\n    handleContentChange = e => {\r\n        this.setState({input_content:e.target.value})\r\n    };\r\n\r\n    getTime = getTime;\r\n\r\n    showTree(replies, parentName, indexArr) {\r\n        const {classes} = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                {\r\n                    replies.map((reply,index)=>\r\n                    <div className={indexArr.length>1?null:classes.subreply}>\r\n                        <Toolbar>\r\n                            <Avatar className={classes.avatar} alt=\"User\" children={reply.userId}/>\r\n                            <Typography variant=\"h6\">{reply.username + \"  \"+parentName+\"  \" + this.getTime(reply.commentTime)}</Typography>\r\n                        </Toolbar>\r\n                        <Typography variant=\"h6\" className={classes.content}>{reply.content}</Typography>\r\n                        {this.props._id===\"\"?null:\r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={this.handleClickOpen(indexArr.concat(index))}>\r\n                                \r\n                            </Button>}\r\n                        {\r\n                            reply.replies==null||reply.replies.length<=0?null:this.showTree(reply.replies,reply.username,indexArr.concat(index))\r\n                        }\r\n                    </div>)\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        const {comments} = this.state;\r\n        return (\r\n            <div className={classes.superRoot}>\r\n                <div className={classes.root}>\r\n                    {comments.map((comment,index) =>\r\n                        <React.Fragment key={comment.commentTime}>\r\n                            <Toolbar>\r\n                                <Avatar className={classes.avatar} alt=\"User\" children={comment.userId}/>\r\n                                <Typography variant=\"h6\">{comment.username + \"  \" + this.getTime(comment.commentTime)}</Typography>\r\n                            </Toolbar>\r\n                            <Typography variant=\"h6\" className={classes.content}>{comment.content}</Typography>\r\n                            {this.props._id===\"\"?null:\r\n                                <Button variant=\"outlined\" color=\"primary\" onClick={this.handleClickOpen([index])}>\r\n                                    \r\n                                </Button>}\r\n                            <div className={classes.summary}>\r\n                                {\r\n                                    comment.replies==null||comment.replies.length<=0?null:this.showTree(comment.replies,comment.username,[index])\r\n                                }\r\n                            </div>\r\n                        </React.Fragment>\r\n                    )}\r\n                </div>\r\n                {this.props._id===\"\"?null:\r\n                    <Button fullWidth className={classes.fabiao} variant=\"outlined\" color=\"primary\" onClick={this.handleClickOpen([])}>\r\n                        \r\n                    </Button>}\r\n                <Dialog\r\n                    open={this.state.open}\r\n                    onClose={this.handleClose}\r\n                    aria-labelledby=\"form-dialog-title\"\r\n                >\r\n                    <DialogTitle id=\"form-dialog-title\"></DialogTitle>\r\n                    <DialogContent>\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"normal\"\r\n                            id=\"name\"\r\n                            label=\"...\"\r\n                            type=\"text\"\r\n                            rows={3}\r\n                            fullWidth\r\n                            multiline\r\n                            value={this.state.input_content}\r\n                            onChange={this.handleContentChange}\r\n                        />\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">\r\n                            \r\n                        </Button>\r\n                        <Button onClick={this.handleSubmit} color=\"primary\">\r\n                            \r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nComments.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        _id:state.Login._id,\r\n        username:state.Login.username,\r\n    };\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(withStyles(styles)(Comments)));","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Header from '../Header';\r\nimport SearchBar from '../Main/SearchBar';\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport RestoreIcon from '@material-ui/icons/Restore';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport {connect} from \"react-redux\";\r\nimport {Book,Order} from '../../agent';\r\nimport Comments from \"./Comments\";\r\nimport {errorHandler} from '../../utils/usefulFunction'\r\n\r\nconst styles = theme => ({\r\n    superRoot: {\r\n        minWidth: '800px',\r\n    },\r\n    root: {\r\n        position: 'relative',\r\n        paddingTop: theme.spacing.unit * 3,\r\n        paddingLeft: '8%',\r\n        paddingRight: '3%',\r\n        height: '350px',\r\n        backgroundColor: theme.palette.common.paper,\r\n    },\r\n    left: {\r\n        height: '250px',\r\n        padding: theme.spacing.unit,\r\n        textAlign: 'center',\r\n        position: 'absolute',\r\n        width: '18%',\r\n        backgroundColor: '#ccc'\r\n    },\r\n    middle: {\r\n        height: '200px',\r\n        textAlign: 'left',\r\n        marginLeft: '21%',\r\n        width: '49%',\r\n        position: 'absolute',\r\n        whiteSpace: 'pre',\r\n    },\r\n    right: {\r\n        height: '200px',\r\n        border: '1px dashed #fab',\r\n        lineHeight: '40px',\r\n        //backgroundColor: 'purple',\r\n        width: '15%',\r\n        position: 'absolute',\r\n        marginLeft: '75%',\r\n        textAlign: 'center',\r\n        fontSize: '25px',\r\n        color: '#2aa',\r\n        padding: '10px',\r\n    },\r\n    price: {\r\n        backgroundColor: '#689',\r\n        color: '#922',\r\n        width: '90%',\r\n        fontSize: '28px',\r\n        margin: '10px 0',\r\n        padding: '30px'\r\n    },\r\n    summary: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 2,\r\n        height: 'auto',\r\n        lineHeight: '20px',\r\n\r\n    },\r\n    summarySpan: {\r\n        width: '200px',\r\n        whiteSpace: 'normal',\r\n        wordWrap: 'break-word',\r\n        wordBreak: 'break-all',\r\n        overflow: 'hidden',\r\n    },\r\n    inputNum: {\r\n        width: '40px',\r\n        height: '30px',\r\n    },\r\n    addBtn: {\r\n        backgroundColor: '#f88',\r\n        marginLeft: theme.spacing.unit,\r\n        fontSize: '18px',\r\n        color: 'white',\r\n    },\r\n    buyBtn: {\r\n        marginLeft: theme.spacing.unit * 2,\r\n        backgroundColor: '#fee',\r\n        fontSize: '18px',\r\n        color: '#f48',\r\n        fontWeight: 'normal'\r\n    },\r\n    body: {\r\n        position: \"relative\",\r\n        marginTop: '10px',\r\n        backgroundColor: '#d39',\r\n        marginLeft: '50px',\r\n    },\r\n});\r\n\r\nclass BookDetail extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: 0,\r\n            book:{\r\n\r\n            }\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        let targetisbn = parseInt(this.props.match.params.isbn);\r\n        Book.getBookByisbn(targetisbn,1,1).then(res=>this.setState({book:res.books[0]})).catch(errorHandler);\r\n    }\r\n    handleChange = (event, value) => {\r\n        this.setState({ value });\r\n    };\r\n    render() {\r\n        const {classes, books, _id} = this.props;\r\n        let targetisbn = parseInt(this.props.match.params.isbn);\r\n        const book = this.state.book;\r\n        let numValue;\r\n        return (\r\n            <div className={classes.superRoot}>\r\n                <Header/>\r\n                <div className={classes.root}>\r\n                    <div className={classes.left}>\r\n                        <img src={book.pictureUrl} alt=\"\"\r\n                             width=\"100%\" height=\"100%\"/>\r\n                    </div>\r\n                    <div className={classes.middle}>\r\n                        <Typography variant=\"h4\">{book.bookname}</Typography>\r\n                        <Divider/>\r\n                        <Typography variant=\"body1\" color=\"inherit\">\r\n                            {book.author}\r\n                            {\"       \"}\r\n                            {book.stockNum}\r\n                        </Typography>\r\n                        <div className={classes.price}>\r\n                             {book.price}\r\n                        </div>\r\n                        <div className={classes.summary}>\r\n                            <span className={classes.summarySpan}>\r\n                                {book.summary}\r\n                            </span>\r\n                        </div>\r\n                        <input type=\"number\" min=\"1\" max={book.stockNum} className={classes.inputNum}\r\n                               ref={ref => numValue = ref}\r\n                        />\r\n                        <Button className={classes.addBtn} onClick={\r\n                            () => (_id === '' ? alert(\"\") :\r\n                                    (numValue.value > book.stockNum ? alert(\"\") :\r\n                                        (numValue.value <= 0 || numValue.value === 'undefined' ? alert(\"\") :\r\n                                            this.props.addToCart(_id, book.bookname, numValue.value, book.isbn)))\r\n                            )\r\n                        }>\r\n                            \r\n                        </Button>\r\n                        <Button className={classes.buyBtn} onClick={\r\n                            () => (_id === '' ? alert(\"\") :\r\n                                    (numValue.value > book.stockNum ? alert(\"\") :\r\n                                        (numValue.value <= 0 || numValue.value === 'undefined' ? alert(\"\") :\r\n                                            this.props.buyNow(_id, [{\r\n                                                \"bookname\": book.bookname,\r\n                                                \"num\": numValue.value,\r\n                                                \"isbn\": book.isbn\r\n                                            }], \"buy directly\")))\r\n                            )\r\n                        }>\r\n                            \r\n                        </Button>\r\n                    </div>\r\n                    <div className={classes.right}>\r\n                        1/\r\n                        --b\r\n                    </div>\r\n\r\n                </div>\r\n                <div className={classes.body}>\r\n                    <BottomNavigation\r\n                        value={this.state.value}\r\n                        onChange={this.handleChange}\r\n                        showLabels\r\n                    >\r\n                        <BottomNavigationAction label=\"\" icon={<RestoreIcon/>}/>\r\n                        <BottomNavigationAction label=\"\" icon={<FavoriteIcon/>}/>\r\n                        <BottomNavigationAction label=\"\" icon={<LocationOnIcon/>}/>\r\n                    </BottomNavigation>\r\n                    <Divider/>\r\n                </div>\r\n                <Comments isbn={targetisbn}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        books: state.BookDetail.books,\r\n        _id: state.Login._id,\r\n    }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        addToCart: (_id, bookname, num, isbn) => Book.addToCart(_id, bookname, num, isbn).then(dispatch({\r\n            type: \"ADD_TO_CART\",\r\n            bookname: bookname,\r\n            num: num,\r\n            isbn: isbn\r\n        })).then(alert(\"\")).catch(errorHandler),\r\n        buyNow: (_id, booksArr, mode) => Order.generateAnOrder(_id,booksArr,mode)\r\n            .then(alert(\"\")).catch(error=>alert(error.response.body.msg)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withStyles(styles)(BookDetail));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport {Link} from 'react-router-dom';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Header from '../Header';\r\nimport {Book, Order} from \"../../agent\";\r\nimport {connect} from \"react-redux\";\r\nimport {errorHandler} from '../../utils/usefulFunction'\r\n\r\n\r\nconst styles = theme => ({\r\n    superRoot:{\r\n        minWidth: '650px',\r\n    },\r\n    root:{\r\n        marginTop:theme.spacing.unit * 5,\r\n        paddingLeft: '20%',\r\n        paddingRight: '10%',\r\n    },\r\n    paper:{\r\n        paddingLeft:'40%',\r\n        marginTop: theme.spacing.unit * 5,\r\n    },\r\n    date:{\r\n        marginTop: theme.spacing.unit * 2,\r\n    },\r\n    avatar:{\r\n        marginRight: theme.spacing.unit * 2,\r\n        marginLeft: -theme.spacing.unit,\r\n    },\r\n    title:{\r\n        color:theme.palette.primary.dark,\r\n        fontSize: theme.spacing.unit * 3,\r\n    },\r\n    summary:{\r\n        color: 'gray',\r\n        fontSize: theme.spacing.unit,\r\n    },\r\n    link:{\r\n        color: 'purple',\r\n    },\r\n    divider: {\r\n        marginTop: theme.spacing.unit * 2,\r\n        marginBottom: theme.spacing.unit * 5,\r\n    },\r\n    deleteButton: {\r\n        marginLeft: '70%',\r\n    },\r\n    rightIcon: {\r\n        marginLeft: theme.spacing.unit,\r\n    }\r\n});\r\n\r\n\r\n\r\nclass ShoppingCart extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {cart: []};\r\n        this.removeButtonClick = this.removeButtonClick.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        Book.showCart(this.props._id).then(res=> this.setState({cart:res.books})).catch(errorHandler);\r\n    }\r\n\r\n    removeButtonClick = (_id, bookname, isbn) =>\r\n        Book.removeFromCart(_id, bookname, isbn).then(() => {\r\n                const oldCart = this.state.cart;\r\n                const newCart = oldCart.filter(book=>isbn!==book.isbn);\r\n                this.setState({cart: newCart});\r\n            }\r\n        ).catch(err=>alert(\"\"));\r\n\r\n    render() {\r\n        const {classes/*, removeButtonClick*/} = this.props;\r\n        const {cart} = this.state;\r\n        return (\r\n            <div className={classes.superRoot}>\r\n                <Header/>\r\n                <div className={classes.root}>\r\n                    {cart.map(book =>\r\n                        <React.Fragment key={book.isbn}>\r\n                            <Toolbar>\r\n                                <Avatar className={classes.avatar} alt=\"Book\" children=\"\"/>\r\n                                <Typography variant=\"h6\">{book.isbn}</Typography>\r\n                            </Toolbar>\r\n                            <Typography className={classes.title}>{book.bookname}</Typography>\r\n                            <Typography className={classes.summary}>{\"\" + book.num}</Typography>\r\n                            <Link to={'book/' + book.isbn} className={classes.link}></Link>\r\n                            <Button variant=\"contained\" color=\"secondary\" className={classes.deleteButton}\r\n                                    onClick={() => this.removeButtonClick(this.props._id, book.bookname, book.isbn)}>\r\n                                \r\n                                <DeleteIcon className={classes.rightIcon}/>\r\n                            </Button>\r\n                            <Divider className={classes.divider}/>\r\n                        </React.Fragment>\r\n                    )}\r\n                </div>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.deleteButton}\r\n                        onClick={() => Order.generateAnOrder(this.props._id, this.state.cart, \"buy by cart\").then(this.setState({cart:[]}))\r\n                            .catch(errorHandler)}>\r\n                    \r\n                    <DeleteIcon className={classes.rightIcon}/>\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nShoppingCart.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    const {Login/*, BookAndNum*/} = state;\r\n    return {_id: Login._id/*, cart:BookAndNum.books*/};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        /*removeButtonClick: (_id, bookname, isbn) => Book.removeFromCart(_id, bookname, isbn).then(dispatch({\r\n            type: 'REMOVE_FROM_CART',\r\n            isbn: isbn\r\n        })).catch(() => alert('delete article failed, please try again')),*/\r\n        //storeCart: res=> dispatch({type:\"SHOW_CART\",result:res})\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withStyles(styles)(ShoppingCart));\r\n","import {createMuiTheme} from '@material-ui/core/styles';\r\nimport {pink, purple, lightBlue} from '@material-ui/core/colors';\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            elight: pink[50],\r\n            light: pink[200],\r\n            main: pink[500],\r\n            dark: pink[800],\r\n        },\r\n        secondary: {\r\n            elight:lightBlue[50],\r\n            light: lightBlue[200],\r\n            main: lightBlue[500],\r\n            dark: lightBlue[800],\r\n        },\r\n    },\r\n    typography: {\r\n        fontFamily: \"Roboto\",\r\n    },\r\n    shape: {\r\n        borderRadius: 8,\r\n    }\r\n});\r\n\r\nexport default theme;","import React from 'react';\r\nimport Header from './Header';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Button from '@material-ui/core/Button';\r\nimport {MuiThemeProvider} from '@material-ui/core';\r\nimport theme from '../theme';\r\nimport {User} from \"../agent\";\r\nimport {connect} from \"react-redux\";\r\nimport {errorHandler} from '../utils/usefulFunction'\r\n\r\nconst styles = theme => ({\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 400,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper:{\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n\r\n});\r\n\r\nclass SignUp extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {username:'',password:'',confirmPass:'',email:''};\r\n        this.handleInputChange = field=> e => {\r\n            const state = this.state;\r\n            const newState = Object.assign({}, state, {[field]: e.target.value});\r\n            this.setState(newState);\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.props.history.push(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <MuiThemeProvider theme={theme}>\r\n                <Header/>\r\n                <main className={this.props.classes.main}>\r\n                    <Paper className={this.props.classes.paper}>\r\n                        <AccountCircle/>\r\n                        <Typography component=\"h1\" variant=\"h5\">\r\n                            Sign up\r\n                        </Typography>\r\n                        <form onSubmit={event => {\r\n                            event.preventDefault();\r\n                            if (this.state.password === this.state.confirmPass) {\r\n                                this.props.checkAccount(this.state.username, this.state.password, this.state.email);\r\n                                alert(\"\");\r\n                            } else {\r\n                                alert('');\r\n                            }\r\n                        }}>\r\n                            <FormControl margin=\"normal\" required fullWidth>\r\n                                <InputLabel htmlFor=\"username\">UserName</InputLabel>\r\n                                <Input\r\n                                    id=\"username\"\r\n                                    name=\"username\"\r\n                                    value={this.state.username}\r\n                                    onChange={this.handleInputChange('username')}\r\n                                    autoFocus\r\n                                />\r\n                            </FormControl>\r\n                            <FormControl margin=\"normal\" required fullWidth>\r\n                                <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n                                <Input\r\n                                    id=\"password\"\r\n                                    name=\"password\"\r\n                                    value={this.state.password}\r\n                                    autoComplete=\"current-password\"\r\n                                    onChange={this.handleInputChange('password')}\r\n                                    type=\"password\"\r\n                                />\r\n                            </FormControl>\r\n                            <FormControl margin=\"normal\" required fullWidth>\r\n                                <InputLabel htmlFor=\"confirmPass\">confirm your password</InputLabel>\r\n                                <Input\r\n                                    id=\"confirmPass\"\r\n                                    name=\"confirmPass\"\r\n                                    value={this.state.confirmPass}\r\n                                    //autoComplete=\"current-password\"\r\n                                    onChange={this.handleInputChange('confirmPass')}\r\n                                    type=\"password\"\r\n                                />\r\n                            </FormControl>\r\n                            <FormControl margin=\"normal\" required fullWidth>\r\n                                <InputLabel htmlFor=\"email\">email</InputLabel>\r\n                                <Input\r\n                                    id=\"email\"\r\n                                    name=\"email\"\r\n                                    value={this.state.email}\r\n                                    autoComplete=\"current-password\"\r\n                                    onChange={this.handleInputChange('email')}\r\n                                    type=\"email\"\r\n                                />\r\n                            </FormControl>\r\n                            <Button\r\n                                type=\"submit\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                            >\r\n                                \r\n                            </Button>\r\n                        </form>\r\n                    </Paper>\r\n                </main>\r\n            </MuiThemeProvider>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        redirectTo: state.Redirect.redirectTo,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        checkAccount: (username, password, email) => {\r\n            User.signup(username, password, email).then(res=>dispatch({type: \"SIGN_UP\"})).catch(errorHandler);\r\n        },\r\n        onRedirect: () => dispatch({type: 'REDIRECTED'})\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withStyles(styles)(SignUp));","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport {User} from \"../agent\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {connect} from \"react-redux\";\r\nimport bgImg from '../img/signin4.jpg';\r\nimport {errorHandler} from '../utils/usefulFunction'\r\n\r\nconst styles = theme => ({\r\n    submit:{\r\n        marginTop: theme.spacing.unit * 2,\r\n    },\r\n    /*img:{\r\n        width: '100%',\r\n        height:'400px',\r\n        backgroundImg: `url(${bgImg})`\r\n    }*/\r\n});\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {username:'',password:''};\r\n        this.handleInputChange = field=> e => {\r\n            const state = this.state;\r\n            const newState = Object.assign({}, state, {[field]: e.target.value});\r\n            this.setState(newState);\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.props.history.push(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        return (\r\n            <div>\r\n                <img src={bgImg}/>\r\n                <Dialog\r\n                    open={true}\r\n                    aria-labelledby=\"form-dialog-title\"\r\n                >\r\n                    <DialogTitle id=\"form-dialog-title\">Sign in</DialogTitle>\r\n                    <DialogContent>\r\n                        <form onSubmit={event => {\r\n                            event.preventDefault();\r\n                            this.props.checkAccount(this.state.username, this.state.password);\r\n                        }}>\r\n                            <FormControl margin=\"normal\" required fullWidth>\r\n                                <InputLabel htmlFor=\"username\">UserName</InputLabel>\r\n                                <Input\r\n                                    id=\"username\"\r\n                                    name=\"username\"\r\n                                    value={this.state.username}\r\n                                    onChange={this.handleInputChange('username')}\r\n                                    autoFocus\r\n                                />\r\n                            </FormControl>\r\n                            <FormControl margin=\"normal\" required fullWidth>\r\n                                <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n                                <Input\r\n                                    id=\"password\"\r\n                                    name=\"password\"\r\n                                    value={this.state.password}\r\n                                    autoComplete=\"current-password\"\r\n                                    onChange={this.handleInputChange('password')}\r\n                                    type=\"password\"\r\n                                />\r\n                            </FormControl>\r\n                            <Button\r\n                                type=\"submit\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                className={classes.submit}\r\n                            >\r\n                                Sign in\r\n                            </Button>\r\n                        </form>\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        redirectTo: state.Redirect.redirectTo,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        checkAccount: (username, password) => {\r\n            User.login(username, password).then(res=>dispatch({type: \"LOGIN\",result:res})).catch(errorHandler);\r\n        },\r\n        onRedirect: () => dispatch({type: 'REDIRECTED'})\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withStyles(styles)(Login));","import React from 'react';\r\nimport Header from '../Header';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {MuiThemeProvider} from '@material-ui/core';\r\nimport theme from '../../theme';\r\nimport {connect} from \"react-redux\";\r\nimport request from 'superagent';\r\nimport {Manage} from \"../../agent\";\r\nimport NumberFormat from 'react-number-format';\r\nimport {errorHandler} from '../../utils/usefulFunction'\r\n\r\n\r\nconst styles = theme => ({\r\n    supermain:{\r\n        minWidth: '650px',\r\n    },\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(800 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 800,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper:{\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    submitButton:{\r\n        float:'right',\r\n    },\r\n    imgButton:{\r\n        fullWidth: 'true',\r\n        backgroundColor: '#fff',\r\n        outline: 'none',\r\n        borderWidth: '0px',\r\n        borderRadius: '3px',\r\n    },\r\n    input:{\r\n        display:'none'\r\n    },\r\n    img: {\r\n        width: '120px',\r\n        height: '170px',\r\n    },\r\n    bookname:{\r\n        display: 'block',\r\n    },\r\n    author:{\r\n\r\n    },\r\n    head:{\r\n        float: 'left',\r\n        height: '170px',\r\n    },\r\n    cover:{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        float: 'right',\r\n        height: '170px',\r\n        width: '120px',\r\n        border: '1px dashed blue',\r\n    },\r\n    price:{\r\n\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing.unit,\r\n    },\r\n    pan:{\r\n        float: 'left',\r\n        height: '170px',\r\n        marginLeft: theme.spacing.unit * 4,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n});\r\n\r\n//cloudinary\r\nconst CLOUDINARY_UPLOAD_PRESET = 'cvtoheob';\r\nconst CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/dbqbt0cli/upload';\r\n\r\n//stockNum\r\nfunction NumberFormatCustom(props) {\r\n    const { inputRef, onChange, ...other } = props;\r\n    return (\r\n        <NumberFormat\r\n            {...other}\r\n            getInputRef={inputRef}\r\n            onValueChange={values => {\r\n                onChange({\r\n                    target: {\r\n                        value: values.value,\r\n                    },\r\n                });\r\n            }}\r\n            thousandSeparator\r\n            prefix=\"* \"\r\n        />\r\n    );\r\n}\r\n\r\nfunction NumberFormatCustom2(props) {\r\n    const { inputRef, onChange, ...other } = props;\r\n    return (\r\n        <NumberFormat\r\n            {...other}\r\n            getInputRef={inputRef}\r\n            onValueChange={values => {\r\n                onChange({\r\n                    target: {\r\n                        value: values.value,\r\n                    },\r\n                });\r\n            }}\r\n            thousandSeparator\r\n            prefix=\"\"\r\n        />\r\n    );\r\n}\r\n\r\n\r\nclass AddNewBook extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {bookname: '', summary: '', uploadImgUrl: '', price: '0', author: '', stockNum: '0'};\r\n        this.handleInputChange = field=> e => {\r\n            const state = this.state;\r\n            const newState = Object.assign({}, state, {[field]: e.target.value});\r\n            this.setState(newState);\r\n        };\r\n        this.onImageDrop = this.onImageDrop.bind(this);\r\n        this.handleImageUpload = this.handleImageUpload.bind(this);\r\n    }\r\n\r\n    onImageDrop(files) {\r\n        this.handleImageUpload(files[0]);\r\n    }\r\n\r\n    handleImageUpload(file) {\r\n        let upload = request.post(CLOUDINARY_UPLOAD_URL)\r\n            .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\r\n            .field('file', file);\r\n\r\n        upload.end((err, response) => {\r\n            if (err) {\r\n                alert(err);\r\n            }\r\n            if (response.body.secure_url !== '') {\r\n                this.setState({\r\n                    uploadImgUrl: response.body.secure_url\r\n                });\r\n                //console.log(response.body.secure_url);\r\n                //this.forceUpdate();\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.props.history.push(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <MuiThemeProvider theme={theme}>\r\n                <div className={this.props.classes.supermain}>\r\n                    <Header/>\r\n                    <main className={this.props.classes.main}>\r\n                        <Paper className={this.props.classes.paper}>\r\n                            <form onSubmit={\r\n                                e => {\r\n                                    e.preventDefault();\r\n                                    this.props.addNewBook(\r\n                                        {\r\n                                            \"bookname\": this.state.bookname,\r\n                                            \"stockNum\": parseInt(this.state.stockNum),\r\n                                            \"summary\": this.state.summary,\r\n                                            \"pictureUrl\": this.state.uploadImgUrl,\r\n                                            \"author\": this.state.author,\r\n                                            \"price\": parseFloat(this.state.price)\r\n                                        }\r\n                                    )\r\n                                }\r\n                            }>\r\n                                <div className={this.props.classes.head}>\r\n                                    <FormControl margin=\"normal\" required className={this.props.classes.bookname}>\r\n                                        <InputLabel htmlFor=\"bookname\">Book Name</InputLabel>\r\n                                        <Input\r\n                                            id=\"bookname\"\r\n                                            name=\"bookname\"\r\n                                            value={this.state.bookname}\r\n                                            onChange={this.handleInputChange('bookname')}\r\n                                            autoFocus\r\n                                        />\r\n                                    </FormControl>\r\n                                    <FormControl margin=\"normal\" required className={this.props.classes.author}>\r\n                                        <InputLabel htmlFor=\"author\">Author</InputLabel>\r\n                                        <Input\r\n                                            id=\"author\"\r\n                                            name=\"author\"\r\n                                            value={this.state.author}\r\n                                            onChange={this.handleInputChange('author')}\r\n                                            autoFocus\r\n                                        />\r\n                                    </FormControl>\r\n                                </div>\r\n                                <div className={this.props.classes.pan}>\r\n                                    <TextField\r\n                                        className={this.props.classes.price}\r\n                                        label=\"Price\"\r\n                                        value={this.state.price}\r\n                                        onChange={this.handleInputChange('price')}\r\n                                        id=\"formatted-numberformat-price\"\r\n                                        InputProps={{\r\n                                            inputComponent: NumberFormatCustom2,\r\n                                        }}\r\n                                    />\r\n                                    <TextField\r\n                                        //className={this.props.classes.formControl}\r\n                                        label=\"Stock Number\"\r\n                                        value={this.state.stockNum}\r\n                                        onChange={this.handleInputChange('stockNum')}\r\n                                        id=\"formatted-numberformat-stockNum\"\r\n                                        InputProps={{\r\n                                            inputComponent: NumberFormatCustom,\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className={this.props.classes.cover}>\r\n                                    <input accept=\".jpg,.jpeg,.png \" className={this.props.classes.input}\r\n                                           id=\"icon-button-file\" type=\"file\"\r\n                                           ref={ref => this.image = ref} onChange={event => {\r\n                                        if (event.target.files.length !== 0) {\r\n                                            this.onImageDrop(event.target.files);\r\n                                        }\r\n                                    }\r\n                                    }/>\r\n                                    <button className={this.props.classes.imgButton} onClick={() => this.image.click()}\r\n                                    type=\"button\">\r\n                                        {this.state.uploadImgUrl === '' ?\r\n                                            <p>pick cover</p> :\r\n                                            <img className={this.props.classes.img} src={this.state.uploadImgUrl}/>}\r\n                                    </button>\r\n                                </div>\r\n                                <TextField margin=\"normal\" required fullWidth multiline\r\n                                           label=\"summary\" rows={6} variant='outlined'\r\n                                           id=\"summary\" placeholder=\"summary of the book...\"\r\n                                           value={this.state.summary}\r\n                                           onChange={this.handleInputChange('summary')}\r\n                                />\r\n                                <Button type=\"submit\" variant=\"contained\" color=\"primary\"\r\n                                        className={this.props.classes.submitButton}>\r\n                                    \r\n                                </Button>\r\n                            </form>\r\n                        </Paper>\r\n                    </main>\r\n                </div>\r\n            </MuiThemeProvider>\r\n        );\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        redirectTo: state.Redirect.redirectTo,\r\n        //authToken: state.Login.token,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        addNewBook: (book) => {\r\n            Manage.addABook(book)\r\n                .then(res=>dispatch({type:'ADD_BOOK',book:book}))\r\n                .catch(errorHandler);\r\n        },\r\n        onRedirect: () => dispatch({type: 'REDIRECTED'})\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withStyles(styles)(AddNewBook));","import React from 'react';\r\nimport Header from '../Header';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {MuiThemeProvider} from '@material-ui/core';\r\nimport theme from '../../theme';\r\nimport {connect} from \"react-redux\";\r\nimport request from 'superagent';\r\nimport {Manage} from \"../../agent\";\r\nimport NumberFormat from 'react-number-format';\r\nimport {errorHandler} from '../../utils/usefulFunction'\r\n\r\n\r\nconst styles = theme => ({\r\n    supermain:{\r\n        minWidth: '650px',\r\n    },\r\n    main: {\r\n        width: 'auto',\r\n        display: 'block', // Fix IE 11 issue.\r\n        marginLeft: theme.spacing.unit * 3,\r\n        marginRight: theme.spacing.unit * 3,\r\n        [theme.breakpoints.up(800 + theme.spacing.unit * 3 * 2)]: {\r\n            width: 800,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper:{\r\n        marginTop: theme.spacing.unit * 8,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    },\r\n    submitButton:{\r\n        float:'right',\r\n    },\r\n    imgButton:{\r\n        fullWidth: 'true',\r\n        backgroundColor: '#fff',\r\n        outline: 'none',\r\n        borderWidth: '0px',\r\n        borderRadius: '3px',\r\n    },\r\n    input:{\r\n        display:'none'\r\n    },\r\n    img: {\r\n        width: '120px',\r\n        height: '170px',\r\n    },\r\n    bookname:{\r\n        display: 'block',\r\n    },\r\n    author:{\r\n\r\n    },\r\n    head:{\r\n        float: 'left',\r\n        height: '170px',\r\n    },\r\n    cover:{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        float: 'right',\r\n        height: '170px',\r\n        width: '120px',\r\n        border: '1px dashed blue',\r\n    },\r\n    price:{\r\n\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing.unit,\r\n    },\r\n    pan:{\r\n        float: 'left',\r\n        height: '170px',\r\n        marginLeft: theme.spacing.unit * 4,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n});\r\n\r\n//cloudinary\r\nconst CLOUDINARY_UPLOAD_PRESET = 'cvtoheob';\r\nconst CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/dbqbt0cli/upload';\r\n\r\n//stockNum\r\nfunction NumberFormatCustom(props) {\r\n    const { inputRef, onChange, ...other } = props;\r\n    return (\r\n        <NumberFormat\r\n            {...other}\r\n            getInputRef={inputRef}\r\n            onValueChange={values => {\r\n                onChange({\r\n                    target: {\r\n                        value: values.value,\r\n                    },\r\n                });\r\n            }}\r\n            thousandSeparator\r\n            prefix=\"* \"\r\n        />\r\n    );\r\n}\r\n\r\nfunction NumberFormatCustom2(props) {\r\n    const { inputRef, onChange, ...other } = props;\r\n    return (\r\n        <NumberFormat\r\n            {...other}\r\n            getInputRef={inputRef}\r\n            onValueChange={values => {\r\n                onChange({\r\n                    target: {\r\n                        value: values.value,\r\n                    },\r\n                });\r\n            }}\r\n            thousandSeparator\r\n            prefix=\"\"\r\n        />\r\n    );\r\n}\r\n\r\n\r\nclass UpdateBook extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        const booksArr = this.props.booksArr;\r\n        let targetisbn = parseInt(this.props.match.params.isbn);\r\n        const [book] = booksArr.filter(book=>book.isbn===targetisbn);\r\n        this.state = {bookname: book.bookname, summary: book.summary, uploadImgUrl: book.pictureUrl,\r\n            price: book.price, author: book.author, stockNum: book.stockNum, isbn: targetisbn};\r\n        this.handleInputChange = field=> e => {\r\n            const state = this.state;\r\n            const newState = Object.assign({}, state, {[field]: e.target.value});\r\n            this.setState(newState);\r\n        };\r\n        this.onImageDrop = this.onImageDrop.bind(this);\r\n        this.handleImageUpload = this.handleImageUpload.bind(this);\r\n    }\r\n\r\n    onImageDrop(files) {\r\n        this.setState({\r\n            uploadedFile: files[0]\r\n        });\r\n\r\n        this.handleImageUpload(files[0]);\r\n    }\r\n\r\n    handleImageUpload(file) {\r\n        let upload = request.post(CLOUDINARY_UPLOAD_URL)\r\n            .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\r\n            .field('file', file);\r\n\r\n        upload.end((err, response) => {\r\n            if (err) {\r\n                console.error(err);\r\n            }\r\n            if (response.body.secure_url !== '') {\r\n                this.setState({\r\n                    uploadImgUrl: response.body.secure_url\r\n                });\r\n                //console.log(response.body.secure_url);\r\n                //this.forceUpdate();\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.props.history.push(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <MuiThemeProvider theme={theme}>\r\n                <div className={this.props.classes.supermain}>\r\n                    <Header/>\r\n                    <main className={this.props.classes.main}>\r\n                        <Paper className={this.props.classes.paper}>\r\n                            <form onSubmit={\r\n                                e => {\r\n                                    e.preventDefault();\r\n                                    this.props.updateBook(\r\n                                        {\r\n                                            \"bookname\": this.state.bookname,\r\n                                            \"stockNum\": parseInt(this.state.stockNum),\r\n                                            \"summary\": this.state.summary,\r\n                                            \"pictureUrl\": this.state.uploadImgUrl,\r\n                                            \"author\": this.state.author,\r\n                                            \"price\": parseFloat(this.state.price),\r\n                                            \"isbn\": this.state.isbn\r\n                                        }\r\n                                    )\r\n                                }\r\n                            }>\r\n                                <div className={this.props.classes.head}>\r\n                                    <FormControl margin=\"normal\" required className={this.props.classes.bookname}>\r\n                                        <InputLabel htmlFor=\"bookname\">Book Name</InputLabel>\r\n                                        <Input\r\n                                            id=\"bookname\"\r\n                                            name=\"bookname\"\r\n                                            value={this.state.bookname}\r\n                                            onChange={this.handleInputChange('bookname')}\r\n                                            autoFocus\r\n                                        />\r\n                                    </FormControl>\r\n                                    <FormControl margin=\"normal\" required className={this.props.classes.author}>\r\n                                        <InputLabel htmlFor=\"author\">Author</InputLabel>\r\n                                        <Input\r\n                                            id=\"author\"\r\n                                            name=\"author\"\r\n                                            value={this.state.author}\r\n                                            onChange={this.handleInputChange('author')}\r\n                                            autoFocus\r\n                                        />\r\n                                    </FormControl>\r\n                                </div>\r\n                                <div className={this.props.classes.pan}>\r\n                                    <TextField\r\n                                        className={this.props.classes.price}\r\n                                        label=\"Price\"\r\n                                        value={this.state.price}\r\n                                        onChange={this.handleInputChange('price')}\r\n                                        id=\"formatted-numberformat-price\"\r\n                                        InputProps={{\r\n                                            inputComponent: NumberFormatCustom2,\r\n                                        }}\r\n                                    />\r\n                                    <TextField\r\n                                        //className={this.props.classes.formControl}\r\n                                        label=\"Stock Number\"\r\n                                        value={this.state.stockNum}\r\n                                        onChange={this.handleInputChange('stockNum')}\r\n                                        id=\"formatted-numberformat-stockNum\"\r\n                                        InputProps={{\r\n                                            inputComponent: NumberFormatCustom,\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className={this.props.classes.cover}>\r\n                                    <input accept=\".jpg,.jpeg,.png \" className={this.props.classes.input}\r\n                                           id=\"icon-button-file\" type=\"file\"\r\n                                           ref={ref => this.image = ref} onChange={event => {\r\n                                        if (event.target.files.length !== 0) {\r\n                                            this.onImageDrop(event.target.files);\r\n                                        }\r\n                                    }\r\n                                    }/>\r\n                                    <button className={this.props.classes.imgButton} onClick={() => this.image.click()}\r\n                                    type=\"button\">\r\n                                        {this.state.uploadImgUrl === '' ?\r\n                                            <p>pick cover</p> :\r\n                                            <img className={this.props.classes.img} src={this.state.uploadImgUrl}/>}\r\n                                    </button>\r\n                                </div>\r\n                                <TextField margin=\"normal\" required fullWidth multiline\r\n                                           label=\"summary\" rows={6} variant='outlined'\r\n                                           id=\"summary\" placeholder=\"summary of the book...\"\r\n                                           value={this.state.summary}\r\n                                           onChange={this.handleInputChange('summary')}\r\n                                />\r\n                                <Button type=\"submit\" variant=\"contained\" color=\"primary\"\r\n                                        className={this.props.classes.submitButton}>\r\n                                    \r\n                                </Button>\r\n                            </form>\r\n                        </Paper>\r\n                    </main>\r\n                </div>\r\n            </MuiThemeProvider>\r\n        );\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        redirectTo: state.Redirect.redirectTo,\r\n        booksArr: state.BookDetail.books\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        updateBook: (book) => {\r\n            Manage.updateABook(book)\r\n                .then(()=>dispatch({type:'UPDATE_BOOK',book:book}))\r\n                .catch(errorHandler);\r\n        },\r\n        onRedirect: () => dispatch({type: 'REDIRECTED'})\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withStyles(styles)(UpdateBook));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Header from '../Header';\r\nimport {Manage} from \"../../agent\";\r\nimport {connect} from \"react-redux\";\r\nimport {errorHandler} from '../../utils/usefulFunction'\r\n\r\n\r\nconst styles = theme => ({\r\n    superRoot:{\r\n        minWidth: '650px',\r\n    },\r\n    root:{\r\n        marginTop:theme.spacing.unit * 5,\r\n        paddingLeft: '20%',\r\n        paddingRight: '10%',\r\n    },\r\n    paper:{\r\n        paddingLeft:'40%',\r\n        marginTop: theme.spacing.unit * 5,\r\n    },\r\n    date:{\r\n        marginTop: theme.spacing.unit * 2,\r\n    },\r\n    avatar:{\r\n        marginRight: theme.spacing.unit * 2,\r\n        marginLeft: -theme.spacing.unit,\r\n    },\r\n    title:{\r\n        color:theme.palette.primary.dark,\r\n        fontSize: theme.spacing.unit * 3,\r\n    },\r\n    summary:{\r\n        color: 'gray',\r\n        fontSize: theme.spacing.unit,\r\n    },\r\n    link:{\r\n        color: 'purple',\r\n    },\r\n    divider: {\r\n        marginTop: theme.spacing.unit * 2,\r\n        marginBottom: theme.spacing.unit * 5,\r\n    },\r\n    deleteButton: {\r\n        marginLeft: '70%',\r\n    },\r\n    rightIcon: {\r\n        marginLeft: theme.spacing.unit,\r\n    }\r\n});\r\n\r\n\r\n\r\nclass ManageUser extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {users: []};\r\n        this.banButtonClick = this.banButtonClick.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        Manage.showUsers().then(res=> this.setState({users:res.users})).catch(errorHandler);\r\n    }\r\n\r\n    banButtonClick = (_id) =>\r\n        Manage.banAUser(_id).then(() => {\r\n                const oldUsers = this.state.users;\r\n                const newUsers = oldUsers.map(user=>{\r\n                    if (user._id === _id) {\r\n                        user.isBanned = !user.isBanned;\r\n                    }\r\n                    return user;\r\n                });\r\n\r\n                this.setState({users: newUsers});\r\n            }\r\n        ).catch(errorHandler);\r\n\r\n    render() {\r\n        const {classes/*, removeButtonClick*/} = this.props;\r\n        const {users} = this.state;\r\n        return (\r\n            <div className={classes.superRoot}>\r\n                <Header/>\r\n                <div className={classes.root}>\r\n                    {users.map(user =>\r\n                        <React.Fragment key={user._id}>\r\n                            <Toolbar>\r\n                                <Avatar className={classes.avatar} alt=\"\" children=\"user\"/>\r\n                                <Typography variant=\"h6\">{user._id}</Typography>\r\n                            </Toolbar>\r\n                            <Typography className={classes.title}>{user.username}</Typography>\r\n                            {\r\n                                user.isManager?\r\n                                    <React.Fragment>\r\n                                        <Typography className={classes.summary}>\r\n                                            {user._id===1?\"Boss\":\"\"}\r\n                                        </Typography>\r\n                                    </React.Fragment>\r\n                                    :\r\n                                    <React.Fragment>\r\n                                        <Typography className={classes.summary}>\r\n                                            \r\n                                        </Typography>\r\n                                        <Typography>\r\n                                            \r\n                                            {user.isBanned?\"\":\"\"}\r\n                                        </Typography>\r\n                                        <Button variant=\"contained\" color=\"secondary\" className={classes.deleteButton}\r\n                                                onClick={() => this.banButtonClick(user._id)}>\r\n                                            {user.isBanned?\"\":\"\"}\r\n                                            <DeleteIcon className={classes.rightIcon}/>\r\n                                        </Button>\r\n                                    </React.Fragment>\r\n                            }\r\n                            <Divider className={classes.divider}/>\r\n                        </React.Fragment>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nManageUser.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    //\r\n    return {_id: state.Login._id/*, cart:BookAndNum.books*/};\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(ManageUser));","import React from 'react';\r\nimport echarts from 'echarts/lib/echarts';\r\nimport 'echarts/lib/chart/bar';\r\nimport 'echarts/lib/chart/line';\r\nimport 'echarts/lib/component/tooltip';\r\nimport 'echarts/lib/component/title';\r\nimport 'echarts/lib/component/legend';\r\nimport 'echarts/lib/component/toolbox';\r\nimport 'echarts/lib/component/markPoint';\r\nimport 'echarts/lib/component/markLine';\r\n\r\n\r\nclass Chart extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initEchart = this.initEchart.bind(this);\r\n    }\r\n    initEchart() {\r\n        // \r\n        var myChart = echarts.init(document.getElementById(this.props.chartId));\r\n        // \r\n        myChart.setOption({\r\n            title: { text: this.props.text },\r\n            tooltip : {\r\n                trigger: 'axis'\r\n            },\r\n            legend: {\r\n                data:[this.props.yname,]\r\n            },\r\n            toolbox: {\r\n                show : true,\r\n                feature : {\r\n                    dataView : {show: true, readOnly: false},\r\n                    magicType : {show: true, type: ['line', 'bar']},\r\n                    restore : {show: true},\r\n                    saveAsImage : {\r\n                        show: true,\r\n                        type: 'jpg'\r\n                    }\r\n                }\r\n            },\r\n            xAxis : [\r\n                {\r\n                    name : this.props.xname,\r\n                    type : 'category',\r\n                    data : this.props.data.xdata\r\n                }\r\n            ],\r\n            yAxis : [\r\n                {\r\n                    type : 'value'\r\n                }\r\n            ],\r\n            series : [\r\n                {\r\n                    name:this.props.yname,\r\n                    type:'bar',\r\n                    data: this.props.data.ydata,\r\n                    markPoint : {\r\n                        data : [\r\n                            {type : 'max', name: ''},\r\n                            {type : 'min', name: ''}\r\n                        ]\r\n                    },\r\n                    markLine : {\r\n                        data : [\r\n                            {type : 'average', name: ''}\r\n                        ]\r\n                    }\r\n                },\r\n            ]\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.initEchart();\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        this.initEchart();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id={this.props.chartId} style={{ width: 800, height: 500 }}></div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Chart;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Header from '../Header';\r\nimport {connect} from \"react-redux\";\r\nimport {Order} from \"../../agent\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchBar from '../Main/SearchBar';\r\nimport Chart from './Chart';\r\nimport {Button} from \"@material-ui/core\";\r\n\r\n\r\nconst styles = theme => ({\r\n    superRoot:{\r\n        minWidth: '650px',\r\n    },\r\n    root:{\r\n        marginTop:theme.spacing.unit * 5,\r\n        paddingLeft: '20%',\r\n        paddingRight: '10%',\r\n    },\r\n    paper:{\r\n        paddingLeft:'40%',\r\n        marginTop: theme.spacing.unit * 5,\r\n    },\r\n    date:{\r\n        marginTop: theme.spacing.unit * 2,\r\n    },\r\n    avatar:{\r\n        marginRight: theme.spacing.unit * 2,\r\n        marginLeft: -theme.spacing.unit,\r\n    },\r\n    title:{\r\n        color:theme.palette.primary.dark,\r\n        fontSize: theme.spacing.unit * 3,\r\n    },\r\n    summary:{\r\n        color: 'gray',\r\n        fontSize: theme.spacing.unit,\r\n    },\r\n    link:{\r\n        color: 'purple',\r\n    },\r\n    divider: {\r\n        marginTop: theme.spacing.unit * 2,\r\n        marginBottom: theme.spacing.unit * 5,\r\n    },\r\n    deleteButton: {\r\n        marginLeft: '70%',\r\n    },\r\n    rightIcon: {\r\n        marginLeft: theme.spacing.unit,\r\n    },\r\n    price:{\r\n\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    textField: {\r\n        marginLeft: theme.spacing.unit,\r\n        marginRight: theme.spacing.unit,\r\n        width: 200,\r\n    },\r\n});\r\n\r\n\r\n\r\nclass ShowStatistics extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            bookData:{\r\n                xdata: [],\r\n                ydata: [],\r\n                totalConsume: 0\r\n            },\r\n            userData:{\r\n                xdata:[],\r\n                ydata:[],\r\n            },\r\n            startTime:\"2017-08-01T05:20\",\r\n            endTime:\"2019-05-24T13:14\"\r\n        };\r\n        this.handleTextFieldChange = name => event =>{\r\n            this.setState({[name]:event.target.value})\r\n        };\r\n        this.checkBtnClick = this.checkBtnClick.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.checkBtnClick()\r\n    }\r\n\r\n    checkBtnClick(){\r\n        const startTime = this.state.startTime.replace('T',' ') + ':00';\r\n        const endTime = this.state.endTime.replace('T',' ') + ':00';\r\n        Order.showStatistics(this.props._id, startTime, endTime).then(res=>{\r\n                const book = res.book;\r\n                const bookX = [];\r\n                const bookY = [];\r\n                for (var i in book){\r\n                    bookX.push(i);\r\n                    bookY.push(book[i]);\r\n                }\r\n                this.setState({bookData:{xdata: bookX,ydata: bookY,totalConsume: res.totalConsume}})\r\n                if (this.props.isManager){\r\n                    const user = res.user;\r\n                    const userX = [];\r\n                    const userY = [];\r\n                    for (var i in user){\r\n                        userX.push(i);\r\n                        userY.push(user[i]);\r\n                    }\r\n                    this.setState({userData:{xdata: userX,ydata: userY}})\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        return (\r\n            <div className={classes.superRoot}>\r\n                <Header/>\r\n                <form className={classes.container} noValidate>\r\n                    <TextField\r\n                        id=\"startTime\"\r\n                        label=\"startTime\"\r\n                        type=\"datetime-local\"\r\n                        value={this.state.startTime}\r\n                        className={classes.textField}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        onChange={this.handleTextFieldChange('startTime')}\r\n                    />\r\n                </form>\r\n                <form className={classes.container} noValidate>\r\n                    <TextField\r\n                        id=\"endTime\"\r\n                        label=\"endTime\"\r\n                        type=\"datetime-local\"\r\n                        defaultValue={this.state.endTime}\r\n                        className={classes.textField}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        onChange={this.handleTextFieldChange('endTime')}\r\n                    />\r\n                </form>\r\n                <Button onClick={()=>this.checkBtnClick()}>\r\n                    \r\n                </Button>\r\n                <Chart data={this.state.bookData} text={''} yname={''} xname={'isbn'} chartId={'main1'}/>\r\n                {\r\n                    this.props.isManager?\r\n                        <Chart data={this.state.userData} text={''} yname={''} xname={'id'} chartId={'main2'}/>\r\n                        :null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nShowStatistics.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isManager:state.Login.isManager,\r\n        _id:state.Login._id,\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(ShowStatistics));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Header from '../Header';\r\nimport {connect} from \"react-redux\";\r\nimport {Order} from \"../../agent\";\r\nimport SearchBar from '../Main/SearchBar';\r\nimport {errorHandler, getTime} from \"../../utils/usefulFunction\";\r\n\r\n\r\nconst styles = theme => ({\r\n    superRoot:{\r\n        minWidth: '650px',\r\n    },\r\n    root:{\r\n        marginTop:theme.spacing.unit * 5,\r\n        paddingLeft: '20%',\r\n        paddingRight: '10%',\r\n    },\r\n    paper:{\r\n        paddingLeft:'40%',\r\n        marginTop: theme.spacing.unit * 5,\r\n    },\r\n    date:{\r\n        marginTop: theme.spacing.unit * 2,\r\n    },\r\n    avatar:{\r\n        marginRight: theme.spacing.unit * 2,\r\n        marginLeft: -theme.spacing.unit,\r\n    },\r\n    title:{\r\n        color:theme.palette.primary.dark,\r\n        fontSize: theme.spacing.unit * 3,\r\n    },\r\n    summary:{\r\n        color: 'gray',\r\n        fontSize: theme.spacing.unit,\r\n    },\r\n    link:{\r\n        color: 'purple',\r\n    },\r\n    divider: {\r\n        marginTop: theme.spacing.unit * 2,\r\n        marginBottom: theme.spacing.unit * 5,\r\n    },\r\n    deleteButton: {\r\n        marginLeft: '70%',\r\n    },\r\n    rightIcon: {\r\n        marginLeft: theme.spacing.unit,\r\n    },\r\n    price:{\r\n\r\n    }\r\n});\r\n\r\n\r\n\r\nclass ShowOrder extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {orders: []};\r\n    }\r\n\r\n    componentDidMount() {\r\n        Order.showOrder(this.props._id).then(res=> this.setState({orders:res.orders})).catch(errorHandler);\r\n    }\r\n\r\n    orderFilter(order, keyWord) {\r\n        if (order.orderId.toString().indexOf(keyWord)!==-1\r\n            ||order.createTime.indexOf(keyWord)!==-1\r\n            ||order.totalPrice.toString().indexOf(keyWord)!==-1\r\n            )\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    getTime = getTime;\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        const {orders} = this.state;\r\n        return (\r\n            <div className={classes.superRoot}>\r\n                <Header/>\r\n                <SearchBar/>\r\n                <div className={classes.root}>\r\n                    {orders.map(order => this.orderFilter(order, this.props.keyWord)?\r\n                        <React.Fragment key={order.orderId}>\r\n                            <Toolbar>\r\n                                <Avatar className={classes.avatar} alt=\"Order\" children=\"\"/>\r\n                                <Typography variant=\"h6\">{order.orderId}</Typography>\r\n                            </Toolbar>\r\n                            <Typography className={classes.title}>{this.getTime(order.createTime)}</Typography>\r\n                            <div className={classes.summary}>\r\n                                {\r\n                                    JSON.parse(order.books).map(book=> {\r\n                                        return <Typography>\r\n                                                {book.bookname + \" * \" + book.num}\r\n                                        </Typography>;\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            <Typography className={classes.price}>{\"\" + order.totalPrice}</Typography>\r\n                            <Divider className={classes.divider}/>\r\n                        </React.Fragment>\r\n                        :null\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nShowOrder.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        _id: state.Login._id/*, cart:BookAndNum.books*/,\r\n        keyWord: state.Search.keyWord,\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(ShowOrder));","import React from 'react';\r\nimport {HashRouter, Redirect, Route, Switch} from 'react-router-dom';\r\nimport HomePage from './components/Main/HomePage';\r\nimport BooksPage from './components/Book/BooksPage';\r\nimport BookDetail from \"./components/Book/BookDetail\";\r\nimport ShoppingCart from \"./components/Shopping/ShoppingCart\";\r\nimport SignUp from './components/SignUp';\r\nimport Login from './components/Login';\r\nimport AddNewBook from './components/Book/AddNewBook';\r\nimport UpdateBook from './components/Book/UpdateBook';\r\nimport ManageUser from './components/Manage/ManageUser';\r\nimport ShowStatistics from './components/Shopping/ShowStatistics';\r\nimport ShowOrder from './components/Shopping/ShowOrder';\r\n\r\nconst BasicRoute = () => {\r\n    return (\r\n        <HashRouter>\r\n            <Switch>\r\n                <Route exact path=\"/\" component={/*HomePage*/BooksPage}/>\r\n                <Route exact path=\"/all-books\" component={BooksPage}/>\r\n                <Route exact path=\"/book/:isbn\" component={BookDetail}/>\r\n                <Route exact path=\"/cart\" component={ShoppingCart}/>\r\n                <Route exact path=\"/login\" component={Login}/>\r\n                <Route exact path=\"/signup\" component={SignUp}/>\r\n                <Route exact path=\"/add-new-book\" component={AddNewBook}/>\r\n                <Route exact path=\"/update/:isbn\" component={UpdateBook}/>\r\n                <Route exact path=\"/manage-users\" component={ManageUser}/>\r\n                <Route exact path=\"/order\" component={ShowOrder}/>\r\n                <Route exact path=\"/statistics\" component={ShowStatistics}/>\r\n                <Redirect to={{pathname:'/'}}/>\r\n            </Switch>\r\n        </HashRouter>\r\n    );\r\n};\r\n\r\nexport default BasicRoute;","import {combineReducers} from \"redux/es/redux\";\r\n\r\nfunction Login(state={_id:'',username:'',isManager:0},action) {\r\n    switch (action.type) {\r\n        case \"LOGIN\":\r\n            return action.result;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction Redirect(state={redirectTo:null},action) {\r\n    switch (action.type) {\r\n        case 'REDIRECTED':\r\n            return {redirectTo: null};\r\n        case 'SIGN_UP':\r\n        case 'ADD_BOOK':\r\n        case 'LOGIN':\r\n        case \"UPDATE_BOOK\":\r\n            return {redirectTo: '/'};\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nfunction BookDetail(state={books: [], update:false},action) {\r\n    switch (action.type) {\r\n        case \"UPDATE\":\r\n            const update = state.update;\r\n            return Object.assign({},{books:state.books, update: !update});\r\n        case \"SHOW_BOOK\":\r\n            //\r\n            return Object.assign({},{books: action.result.books,update:state.update});\r\n        case \"ADD_BOOK\":\r\n            //action.book {\"bookname\":  ,\"stockNum\":  , \"summary\":  ,\"pictureUrl\":  ,\"price\":  ,\"author\":  ,\"isbn\":  }\r\n            const newState = Object.assign({}, state);\r\n            newState.books.push(action.book);\r\n            return newState;\r\n        case \"DELETE_BOOK\":\r\n            //action.isbn\r\n            const newState2 = Object.assign({}, state);\r\n            for (let i = 0; i < newState2.books.length; i++) {\r\n                if (newState2.books[i].isbn === action.isbn) {\r\n                    //cart has this book\r\n                    newState2.books.splice(i, 1);\r\n                    return newState2;\r\n                }\r\n            }\r\n            //cart doesn't have this book\r\n            return state;\r\n        case \"UPDATE_BOOK\":\r\n            //action.book\r\n            const newState3 = Object.assign({}, state);\r\n            for (let i = 0; i < newState3.books.length; i++) {\r\n                if (newState3.books[i].bookname === action.book.bookname) {\r\n                    //book exits\r\n                    Object.assign(newState3.books[i],action.book);\r\n                    return newState3;\r\n                }\r\n            }\r\n            //book not exit\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction BookAndNum(state={books: []},action) {\r\n    switch (action.type) {\r\n        case \"SHOW_CART\":\r\n            return {books: action.result.books};\r\n        case \"ADD_TO_CART\":\r\n            //action.bookname action.num\r\n            const newState = Object.assign({}, state);\r\n            for (let i = 0; i < newState.books.length; i++) {\r\n                if (newState.books[i].isbn === action.isbn) {\r\n                    //cart has this book\r\n                    newState.books[i].num += action.num;\r\n                    return newState;\r\n                }\r\n            }\r\n            //cart doesn't have this book\r\n            newState.books.push({\"bookname\": action.bookname, \"num\": action.num,\"isbn\":action.isbn});\r\n            return newState;\r\n        case \"REMOVE_FROM_CART\":\r\n            const nState = Object.assign({}, state);\r\n            //action.isbn\r\n            for (var i = 0; i < nState.books.length; i++) {\r\n                if (nState.books[i].isbn === action.isbn) {\r\n                    //cart has this book\r\n                    nState.books.splice(i, 1);\r\n                    return nState;\r\n                }\r\n            }\r\n            //cart doesn't have this book\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction Order(state={orders:[]},action) {\r\n    switch (action.type) {\r\n        case \"SHOW_ORDER\":\r\n            //action.result {orders:[{\"userId\":.....}]}\r\n            return {orders: action.result.orders};\r\n        case \"GENERATE_ORDER\":\r\n            //action.order {\"userId\":...}\r\n            const newState = Object.assign({}, state);\r\n            newState.orders.push(action.order);\r\n            return newState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction Page(state={curPage:1, perPageNum: 10, total: 0}, action) {\r\n    switch (action.type) {\r\n        case \"NEXT_PAGE\":\r\n            return Object.assign({}, state, {curPage: state.curPage + 1});\r\n        case \"LAST_PAGE\":\r\n            return Object.assign({}, state, {curPage: state.curPage - 1});\r\n        case \"RESET_PAGE\":\r\n            return Object.assign({}, state, {curPage: 1});\r\n        case \"SET_PPN\":\r\n            return Object.assign({}, state, {perPageNum: action.PPN});\r\n        case \"SET_TOTAL\":\r\n            return Object.assign({}, state, {total: action.total});\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction Search(state={keyWord:'', by: 'isbn'}, action) {\r\n    switch (action.type) {\r\n        case \"SWITCH_BY\":\r\n            if (state.by === 'isbn') {\r\n                return Object.assign({}, state, {by: 'bookname'});\r\n            } else {\r\n                return Object.assign({}, state, {by: 'isbn'});\r\n            }\r\n        case \"SET_KEY\":\r\n            const newState = Object.assign({}, state, {keyWord: action.keyWord});\r\n            return newState;\r\n        case \"RESET_KEY\":\r\n            return Object.assign({}, state, {keyWord: ''});\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default combineReducers(\r\n    {Login, Redirect, BookDetail, Order, Page, Search}\r\n);","import {createStore/*,applyMiddleware*/} from \"redux\";\r\nimport Reducers from './reducers';\r\n\r\nconst store = createStore(Reducers/*, applyMiddleware()*/);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport BasicRoute from './Routers';\r\nimport {Provider} from 'react-redux';\r\nimport theme from './theme';\r\nimport {MuiThemeProvider} from \"@material-ui/core/styles\";\r\nimport store from './configureStore';\r\n\r\ndocument.title = \"\";\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <MuiThemeProvider theme={theme}>\r\n            <BasicRoute/>\r\n        </MuiThemeProvider>\r\n    </Provider>\r\n    , document.getElementById('root')\r\n);"],"sourceRoot":""}